---
{"dg-publish":true,"permalink":"/code/scorekeeper-2-0/commands/setup-scorekeeper/","dgPassFrontmatter":true}
---


## *setup scorekeeper*

#### **command usage:**

`%setup scorekeeper <scores role id> ([rkd|rkw|rkm] [rk role])... ([kcd|kcw|kcm] [kc role])...`  
→ `[roles]` - setting roles for assigning to winners  
*examples* `%setup scorekeeper 876409193962274816 rkd 816814079213043714`

#### **data To store:**

current date, year, month, week, day, doty, dotw, sksetup, kcdRole, kcwRole, kcmRole, kcRole, rkdRole, rkwRole, rkmRole, rkRole, skRole, registeredRole, channels

#### **processes:**

- check `sksetup` for a `true` value to determine whether certain processes will occur  
  if undefined:
	- join month, day, and year values for the dayStamp *ex. 11292022*
	- create array (list) of all currently registered players with the scores role → store in `server variable` → `registeredUsers`
	- create the following JSON files (==keys to be decided later==)
		- scorekeeping.json
		- daylog.json
		- weeklog.json
		- monthlog.json
		- records.json
		- template-log.json
		- skvariables.json
	- control saved data values and variables to = the data stored and generated
	- create null keys for keys to be filled later
	- prints a list of current registered players that should be setup
if true:
	- and no roles roles are passed, the bot will collect and store all values declared and generated by this command
		- print them to be viewed in the command channel
	- If variables are passed it will update the data with the roles as given 

***variables:***
		- dayStamp: {dayStamp}
		- year: {year}
		- month: {month}
		- week: {week}
		- day: {day}
		- doty: {doty}
		- dotw: {dotw}
***controlled data:***
	- values to be set in the skvariables.json file
		- dayStamp: {dayStamp}
		- year: {year}
		- month: {month}
		- week: {week}
		- day: {day}
		- doty: {doty}
		- dotw: {dotw}
		- kcdRole: null
		- kcwRole: null
		- kcmRole: null
		- kcRole: null
		- rkdRole: null
		- rkwRole: null
		- rkmRole: null
		- rkRole: null
		- skRole: null
		- registeredRole: null
	- server data to set
		- sksetup: true

***other data values:***
- channels
	- scorekeeperch
	- postch
	- testch
	- logsch


#### **triggers actions:**

#### **output:**

````ad-codenote
title: **snippets**


```ad-snip
~~~js
const serverVars = {
sksetup: true
}

const vars = {
counters: {
	dayStamp: null,
	year: null,
	month: null,
	week: null,
	day: null,
	doty: null,
	dotw: null
	},
roles: {
	kcdRole: null,
	kcwRole: null,
	kcmRole: null,
	kcRole: null,
	rkdRole: null,
	rkwRole: null,
	rkmRole: null,
	rkRole: null
},
settings: {
	channels: {
		scorekeeperCh: null,
		postCh: null,
		testCh: null,
		logsCh: null
		},
	registeredRole: null,
	skRoles: []
	}
}


~~~
```

```ad-snip

```json
{"sksetup":true} 

{
    "counters": {
        "dayStamp": null,
        "year": null,
        "month": null,
        "week": null,
        "day": null,
        "doty": null,
        "dotw": null
    },
    "roles": {
        "kcdRole": null,
        "kcwRole": null,
        "kcmRole": null,
        "kcRole": null,
        "rkdRole": null,
        "rkwRole": null,
        "rkmRole": null,
        "rkRole": null
    },
    "settings": {
        "channels": {
            "scorekeeperCh": null,
            "postCh": null,
            "testCh": null,
            "logsCh": null
        },
        "skRoles": []
    }
}
```

````

